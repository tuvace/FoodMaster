{"ast":null,"code":"var _jsxFileName = \"/Users/tuvace/Desktop/FoodMaster/src/CalendarDay.js\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { polyfill } from 'react-lifecycles-compat';\nimport { Text, View, LayoutAnimation, TouchableOpacity } from \"react-native\";\nimport styles from \"./Calendar.style.js\";\n\nclass CalendarDay extends Component {\n  // Reference: https://medium.com/@Jpoliachik/react-native-s-layoutanimation-is-awesome-4a4d317afd3e\n  constructor(props) {\n    super(props);\n    this.state = {\n      selected: props.selected,\n      ...this.calcSizes(props)\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    let newState = {};\n    let doStateUpdate = false;\n\n    if (this.props.selected !== prevProps.selected) {\n      if (this.props.daySelectionAnimation.type !== \"\") {\n        let configurableAnimation = {\n          duration: this.props.daySelectionAnimation.duration || 300,\n          create: {\n            type: this.props.daySelectionAnimation.animType || LayoutAnimation.Types.easeInEaseOut,\n            property: this.props.daySelectionAnimation.animProperty || LayoutAnimation.Properties.opacity\n          },\n          update: {\n            type: this.props.daySelectionAnimation.animUpdateType || LayoutAnimation.Types.easeInEaseOut,\n            springDamping: this.props.daySelectionAnimation.animSpringDamping\n          },\n          delete: {\n            type: this.props.daySelectionAnimation.animType || LayoutAnimation.Types.easeInEaseOut,\n            property: this.props.daySelectionAnimation.animProperty || LayoutAnimation.Properties.opacity\n          }\n        };\n        LayoutAnimation.configureNext(configurableAnimation);\n      }\n\n      newState.selected = this.props.selected;\n      doStateUpdate = true;\n    }\n\n    if (prevProps.size !== this.props.size) {\n      newState = { ...newState,\n        ...this.calcSizes(this.props)\n      };\n      doStateUpdate = true;\n    }\n\n    if (doStateUpdate) {\n      this.setState(newState);\n    }\n  }\n\n  calcSizes(props) {\n    return {\n      containerSize: Math.round(props.size),\n      containerPadding: Math.round(props.size / 5),\n      containerBorderRadius: Math.round(props.size / 2),\n      dateNameFontSize: Math.round(props.size / 5),\n      dateNumberFontSize: Math.round(props.size / 2.9)\n    };\n  }\n\n  renderDots() {\n    if (!this.props.markedDates || this.props.markedDates.length === 0) {\n      return;\n    }\n\n    const marking = this.props.marking || {};\n    const baseDotStyle = [styles.dot, styles.visibleDot];\n    const markedDatesStyle = this.props.markedDatesStyle || {};\n    let validDots = /*#__PURE__*/React.createElement(View, {\n      style: [styles.dot],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }\n    }); // default empty view for no dots case\n\n    if (marking.dots && Array.isArray(marking.dots) && marking.dots.length > 0) {\n      // Filter out dots so that we we process only those items which have key and color property\n      validDots = marking.dots.filter(d => d && d.color).map((dot, index) => {\n        return /*#__PURE__*/React.createElement(View, {\n          key: dot.key ? dot.key : index,\n          style: [baseDotStyle, {\n            backgroundColor: marking.selected && dot.selectedDotColor ? dot.selectedDotColor : dot.color\n          }, markedDatesStyle],\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 11\n          }\n        });\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(View, {\n      style: styles.dotsContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 7\n      }\n    }, validDots);\n  }\n\n  render() {\n    // Defaults for disabled state\n    let dateNameStyle = [styles.dateName, this.props.enabled ? this.props.dateNameStyle : this.props.disabledDateNameStyle];\n    let dateNumberStyle = [styles.dateNumber, this.props.enabled ? this.props.dateNumberStyle : this.props.disabledDateNumberStyle];\n    let dateViewStyle = this.props.enabled ? [{\n      backgroundColor: \"transparent\"\n    }] : [{\n      opacity: this.props.disabledDateOpacity\n    }];\n    let customStyle = this.props.customStyle;\n\n    if (customStyle) {\n      dateNameStyle.push(customStyle.dateNameStyle);\n      dateNumberStyle.push(customStyle.dateNumberStyle);\n      dateViewStyle.push(customStyle.dateContainerStyle);\n    }\n\n    if (this.props.enabled && this.state.selected) {\n      // Enabled state\n      //The user can disable animation, so that is why I use selection type\n      //If it is background, the user have to input colors for animation\n      //If it is border, the user has to input color for border animation\n      switch (this.props.daySelectionAnimation.type) {\n        case \"background\":\n          dateViewStyle.push({\n            backgroundColor: this.props.daySelectionAnimation.highlightColor\n          });\n          break;\n\n        case \"border\":\n          dateViewStyle.push({\n            borderColor: this.props.daySelectionAnimation.borderHighlightColor,\n            borderWidth: this.props.daySelectionAnimation.borderWidth\n          });\n          break;\n\n        default:\n          // No animation styling by default\n          break;\n      }\n\n      dateNameStyle = [styles.dateName, this.props.dateNameStyle];\n      dateNumberStyle = [styles.dateNumber, this.props.dateNumberStyle];\n\n      if (this.props.styleWeekend && (this.props.date.isoWeekday() === 6 || this.props.date.isoWeekday() === 7)) {\n        dateNameStyle = [styles.weekendDateName, this.props.weekendDateNameStyle];\n        dateNumberStyle = [styles.weekendDateNumber, this.props.weekendDateNumberStyle];\n      }\n\n      if (this.state.selected) {\n        dateNameStyle = [styles.dateName, this.props.highlightDateNameStyle];\n        dateNumberStyle = [styles.dateNumber, this.props.highlightDateNumberStyle];\n      }\n    }\n\n    let responsiveDateContainerStyle = {\n      width: this.state.containerSize,\n      height: this.state.containerSize,\n      borderRadius: this.state.containerBorderRadius,\n      padding: this.state.containerPadding\n    };\n    return /*#__PURE__*/React.createElement(TouchableOpacity, {\n      onPress: this.props.onDateSelected.bind(this, this.props.date),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(View, {\n      key: this.props.date,\n      style: [styles.dateContainer, responsiveDateContainerStyle, dateViewStyle],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }\n    }, this.props.showDayName && /*#__PURE__*/React.createElement(Text, {\n      style: [{\n        fontSize: this.state.dateNameFontSize\n      }, dateNameStyle],\n      allowFontScaling: this.props.allowDayTextScaling,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 13\n      }\n    }, this.props.date.format(\"ddd\").toUpperCase()), this.props.showDayNumber && /*#__PURE__*/React.createElement(View, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Text, {\n      style: [{\n        fontSize: this.state.dateNumberFontSize\n      }, dateNumberStyle],\n      allowFontScaling: this.props.allowDayTextScaling,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 15\n      }\n    }, this.props.date.date()), this.renderDots())));\n  }\n\n}\n\nCalendarDay.propTypes = {\n  date: PropTypes.object.isRequired,\n  onDateSelected: PropTypes.func.isRequired,\n  selected: PropTypes.bool.isRequired,\n  enabled: PropTypes.bool.isRequired,\n  marking: PropTypes.any,\n  markedDates: PropTypes.array,\n  showDayName: PropTypes.bool,\n  showDayNumber: PropTypes.bool,\n  calendarColor: PropTypes.string,\n  dateNameStyle: PropTypes.any,\n  dateNumberStyle: PropTypes.any,\n  weekendDateNameStyle: PropTypes.any,\n  weekendDateNumberStyle: PropTypes.any,\n  highlightDateNameStyle: PropTypes.any,\n  highlightDateNumberStyle: PropTypes.any,\n  disabledDateNameStyle: PropTypes.any,\n  disabledDateNumberStyle: PropTypes.any,\n  markedDatesStyle: PropTypes.object,\n  disabledDateOpacity: PropTypes.number,\n  styleWeekend: PropTypes.bool,\n  customStyle: PropTypes.object,\n  daySelectionAnimation: PropTypes.object,\n  allowDayTextScaling: PropTypes.bool\n};\nCalendarDay.defaultProps = {\n  daySelectionAnimation: {\n    type: \"\",\n    // animations disabled by default\n    duration: 300,\n    borderWidth: 1,\n    borderHighlightColor: \"black\",\n    highlightColor: \"yellow\",\n    animType: LayoutAnimation.Types.easeInEaseOut,\n    animUpdateType: LayoutAnimation.Types.easeInEaseOut,\n    animProperty: LayoutAnimation.Properties.opacity,\n    animSpringDamping: undefined // Only applicable for LayoutAnimation.Types.spring,\n\n  },\n  styleWeekend: true,\n  showDayName: true,\n  showDayNumber: true\n};\npolyfill(CalendarDay);\nexport default CalendarDay;","map":{"version":3,"sources":["/Users/tuvace/Desktop/FoodMaster/src/CalendarDay.js"],"names":["React","Component","PropTypes","polyfill","Text","View","LayoutAnimation","TouchableOpacity","styles","CalendarDay","constructor","props","state","selected","calcSizes","componentDidUpdate","prevProps","prevState","newState","doStateUpdate","daySelectionAnimation","type","configurableAnimation","duration","create","animType","Types","easeInEaseOut","property","animProperty","Properties","opacity","update","animUpdateType","springDamping","animSpringDamping","delete","configureNext","size","setState","containerSize","Math","round","containerPadding","containerBorderRadius","dateNameFontSize","dateNumberFontSize","renderDots","markedDates","length","marking","baseDotStyle","dot","visibleDot","markedDatesStyle","validDots","dots","Array","isArray","filter","d","color","map","index","key","backgroundColor","selectedDotColor","dotsContainer","render","dateNameStyle","dateName","enabled","disabledDateNameStyle","dateNumberStyle","dateNumber","disabledDateNumberStyle","dateViewStyle","disabledDateOpacity","customStyle","push","dateContainerStyle","highlightColor","borderColor","borderHighlightColor","borderWidth","styleWeekend","date","isoWeekday","weekendDateName","weekendDateNameStyle","weekendDateNumber","weekendDateNumberStyle","highlightDateNameStyle","highlightDateNumberStyle","responsiveDateContainerStyle","width","height","borderRadius","padding","onDateSelected","bind","dateContainer","showDayName","fontSize","allowDayTextScaling","format","toUpperCase","showDayNumber","propTypes","object","isRequired","func","bool","any","array","calendarColor","string","number","defaultProps","undefined"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {polyfill} from 'react-lifecycles-compat';\n\nimport { Text, View, LayoutAnimation, TouchableOpacity } from \"react-native\";\nimport styles from \"./Calendar.style.js\";\n\nclass CalendarDay extends Component {\n  static propTypes = {\n    date: PropTypes.object.isRequired,\n    onDateSelected: PropTypes.func.isRequired,\n    selected: PropTypes.bool.isRequired,\n    enabled: PropTypes.bool.isRequired,\n\n    marking: PropTypes.any,\n    markedDates: PropTypes.array,\n\n    showDayName: PropTypes.bool,\n    showDayNumber: PropTypes.bool,\n\n    calendarColor: PropTypes.string,\n\n    dateNameStyle: PropTypes.any,\n    dateNumberStyle: PropTypes.any,\n    weekendDateNameStyle: PropTypes.any,\n    weekendDateNumberStyle: PropTypes.any,\n    highlightDateNameStyle: PropTypes.any,\n    highlightDateNumberStyle: PropTypes.any,\n    disabledDateNameStyle: PropTypes.any,\n    disabledDateNumberStyle: PropTypes.any,\n    markedDatesStyle: PropTypes.object,\n    disabledDateOpacity: PropTypes.number,\n    styleWeekend: PropTypes.bool,\n    customStyle: PropTypes.object,\n\n    daySelectionAnimation: PropTypes.object,\n    allowDayTextScaling: PropTypes.bool\n  };\n\n  // Reference: https://medium.com/@Jpoliachik/react-native-s-layoutanimation-is-awesome-4a4d317afd3e\n  static defaultProps = {\n    daySelectionAnimation: {\n      type: \"\", // animations disabled by default\n      duration: 300,\n      borderWidth: 1,\n      borderHighlightColor: \"black\",\n      highlightColor: \"yellow\",\n      animType: LayoutAnimation.Types.easeInEaseOut,\n      animUpdateType: LayoutAnimation.Types.easeInEaseOut,\n      animProperty: LayoutAnimation.Properties.opacity,\n      animSpringDamping: undefined // Only applicable for LayoutAnimation.Types.spring,\n    },\n    styleWeekend: true,\n    showDayName: true,\n    showDayNumber: true\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selected: props.selected,\n      ...this.calcSizes(props)\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    let newState = {};\n    let doStateUpdate = false;\n\n    if (this.props.selected !== prevProps.selected) {\n      if (this.props.daySelectionAnimation.type !== \"\") {\n        let configurableAnimation = {\n          duration: this.props.daySelectionAnimation.duration || 300,\n          create: {\n            type:\n              this.props.daySelectionAnimation.animType ||\n              LayoutAnimation.Types.easeInEaseOut,\n            property:\n              this.props.daySelectionAnimation.animProperty ||\n              LayoutAnimation.Properties.opacity\n          },\n          update: {\n            type:\n              this.props.daySelectionAnimation.animUpdateType ||\n              LayoutAnimation.Types.easeInEaseOut,\n            springDamping: this.props.daySelectionAnimation.animSpringDamping\n          },\n          delete: {\n            type:\n              this.props.daySelectionAnimation.animType ||\n              LayoutAnimation.Types.easeInEaseOut,\n            property:\n              this.props.daySelectionAnimation.animProperty ||\n              LayoutAnimation.Properties.opacity\n          }\n        };\n        LayoutAnimation.configureNext(configurableAnimation);\n      }\n      newState.selected = this.props.selected;\n      doStateUpdate = true;\n    }\n\n    if (prevProps.size !== this.props.size) {\n      newState = { ...newState, ...this.calcSizes(this.props) };\n      doStateUpdate = true;\n    }\n\n    if (doStateUpdate) {\n      this.setState(newState);\n    }\n  }\n\n  calcSizes(props) {\n    return {\n      containerSize: Math.round(props.size),\n      containerPadding: Math.round(props.size / 5),\n      containerBorderRadius: Math.round(props.size / 2),\n      dateNameFontSize: Math.round(props.size / 5),\n      dateNumberFontSize: Math.round(props.size / 2.9)\n    };\n  }\n\n  renderDots() {\n    if (!this.props.markedDates || this.props.markedDates.length === 0) {\n      return;\n    }\n    const marking = this.props.marking || {};\n    const baseDotStyle = [styles.dot, styles.visibleDot];\n    const markedDatesStyle = this.props.markedDatesStyle || {};\n    let validDots = <View style={[styles.dot]} />; // default empty view for no dots case\n\n    if (marking.dots && Array.isArray(marking.dots) && marking.dots.length > 0) {\n      // Filter out dots so that we we process only those items which have key and color property\n      validDots = marking.dots\n        .filter(d => (d && d.color))\n        .map((dot, index) => {\n        return (\n          <View\n            key={dot.key ? dot.key : index}\n            style={[\n              baseDotStyle,\n              { backgroundColor: marking.selected && dot.selectedDotColor ? dot.selectedDotColor : dot.color },\n              markedDatesStyle\n            ]}\n          />\n        );\n      });\n    }\n\n    return (\n      <View style={styles.dotsContainer}>\n        {validDots}\n      </View>\n    );\n  }\n\n  render() {\n    // Defaults for disabled state\n    let dateNameStyle = [styles.dateName, this.props.enabled ? this.props.dateNameStyle : this.props.disabledDateNameStyle];\n    let dateNumberStyle = [styles.dateNumber, this.props.enabled ? this.props.dateNumberStyle : this.props.disabledDateNumberStyle];\n    let dateViewStyle = this.props.enabled\n      ? [{ backgroundColor: \"transparent\" }]\n      : [{ opacity: this.props.disabledDateOpacity }];\n\n    let customStyle = this.props.customStyle;\n    if (customStyle) {\n      dateNameStyle.push(customStyle.dateNameStyle);\n      dateNumberStyle.push(customStyle.dateNumberStyle);\n      dateViewStyle.push(customStyle.dateContainerStyle);\n    }\n    if (this.props.enabled && this.state.selected) {\n      // Enabled state\n      //The user can disable animation, so that is why I use selection type\n      //If it is background, the user have to input colors for animation\n      //If it is border, the user has to input color for border animation\n      switch (this.props.daySelectionAnimation.type) {\n        case \"background\":\n          dateViewStyle.push({ backgroundColor: this.props.daySelectionAnimation.highlightColor });\n          break;\n        case \"border\":\n          dateViewStyle.push({\n            borderColor: this.props.daySelectionAnimation.borderHighlightColor,\n            borderWidth: this.props.daySelectionAnimation.borderWidth\n          });\n          break;\n        default:\n          // No animation styling by default\n          break;\n      }\n\n      dateNameStyle = [styles.dateName, this.props.dateNameStyle];\n      dateNumberStyle = [styles.dateNumber, this.props.dateNumberStyle];\n      if (\n        this.props.styleWeekend &&\n        (this.props.date.isoWeekday() === 6 ||\n          this.props.date.isoWeekday() === 7)\n      ) {\n        dateNameStyle = [\n          styles.weekendDateName,\n          this.props.weekendDateNameStyle\n        ];\n        dateNumberStyle = [\n          styles.weekendDateNumber,\n          this.props.weekendDateNumberStyle\n        ];\n      }\n      if (this.state.selected) {\n        dateNameStyle = [styles.dateName, this.props.highlightDateNameStyle];\n        dateNumberStyle = [\n          styles.dateNumber,\n          this.props.highlightDateNumberStyle\n        ];\n      }\n    }\n\n    let responsiveDateContainerStyle = {\n      width: this.state.containerSize,\n      height: this.state.containerSize,\n      borderRadius: this.state.containerBorderRadius,\n      padding: this.state.containerPadding\n    };\n\n\n    return (\n      <TouchableOpacity\n        onPress={this.props.onDateSelected.bind(this, this.props.date)}\n      >\n        <View\n          key={this.props.date}\n          style={[\n            styles.dateContainer,\n            responsiveDateContainerStyle,\n            dateViewStyle\n          ]}\n        >\n          {this.props.showDayName && (\n            <Text\n              style={[{ fontSize: this.state.dateNameFontSize }, dateNameStyle]}\n              allowFontScaling={this.props.allowDayTextScaling}\n            >\n              {this.props.date.format(\"ddd\").toUpperCase()}\n            </Text>\n          )}\n          {this.props.showDayNumber && (\n            <View>\n              <Text\n                style={[\n                    { fontSize: this.state.dateNumberFontSize },\n                    dateNumberStyle\n                ]}\n                allowFontScaling={this.props.allowDayTextScaling}\n              >\n                {this.props.date.date()}\n              </Text>\n              { this.renderDots() }\n            </View>\n          )}\n        </View>\n      </TouchableOpacity>\n    );\n  }\n}\n\npolyfill(CalendarDay);\n\nexport default CalendarDay;"]},"metadata":{},"sourceType":"module"}